<!DOCTYPE html>
<html lang="en">

<head>
    <title>Playing Cards</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="playingCards.ui.css">
    <script src="playingCards.js"></script>
    <script src="playingCards.ui.js"></script>
</head>

<body>
    <h1>Card Game</h1>
    <h2>Object: Draw cards to reach a score of 21 (all non-numeric cards have a value of 10)</h2>
    <p>Score: <span id="scoreboard">0</span></p>
    <button id="draw">Draw Card</button>
    <button id="newgame" onclick="resetgame()">Play New Game</button>
    <p id="cardtable"></p>

    <script>
        var mydeck = new playingCards();

        console.log(mydeck);

        var myscore = 0;

        var mybutton = document.getElementById('draw');
        mybutton.addEventListener('click', drawcard);


        function drawcard() {
            var mycard = mydeck.draw();
            var mytable = document.getElementById('cardtable');
            mytable.innerHTML += mycard.getHTML();

            var myrank = mycard.rank;

            if (myrank > "9") {
                var mypoints = 10;
            } else {
                var mypoints = parseInt(myrank);
            }

            myscore = myscore + mypoints;

            var myscoreboard = document.getElementById('scoreboard');
            myscoreboard.innerHTML = myscore;

            if (myscore === 21) {
                alert("You Won");
                myscore = 0;
            }
            if (myscore > 21) {
                alert("You Lost");
                myscore = 0;
            }

        }


        function resetgame() {
            myscore = 0;
            var myscoreboard = document.getElementById('scoreboard');
            myscoreboard.innerHTML = myscore;

            var mytable = document.getElementById('cardtable');
            mytable.innerHTML = " ";
        }

    </script>
</body>

</html>
